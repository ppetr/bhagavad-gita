%%
%% This is a DocBook LaTeX style example
%%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{bhagavadgita}

% The defined options
\DeclareOption{hyperlink}{ \def\DBKhyperlink{yes} }
\DeclareOption{nohyperlink}{ \def\DBKhyperlink{no} }

% Default values
\ExecuteOptions{nohyperlink}

% If defined, process the options
\ProcessOptions\relax

\newcommand{\DBKtitle}{Title}
%\newcommand{\DBKlegalblock}{}
%\newcommand{\DBKlegaltitle}{}
% \newcommand{\DBKcopyright}{}

% Needed packages
\usepackage{float}
\usepackage{dbk_core}

% LaTeX <othercredit> commands to define
%
% #1: mapped to <contrib>
% #2: mapped to <firstname> <surname>
%
\def\DBKinditem#1#2{
  #2  & #1 \tabularnewline
  \hline
}

\newenvironment{DBKindtable}{
  \begin{tabular}{ |l|l| }
  \hline
  \emph{Collaborator} & \emph{Contribution}
  \hline
}{
  \end{tabular}
}

%
% Latex <revhistory> table
%
%% \newenvironment{DBKrevtable}{
%%   \begin{longtable}{ |l|l|l|l| }
%%   \hline
%%   Revision number & Date & Release Info & Author \tabularnewline
%%   \hline
%%   \endhead
%% }{
%%   \end{longtable}
%% }

% Redefine how to print the cover page and book infos
\def\title#1{\renewcommand{\DBKtitle}{#1}}
\def\DBKcover{
\vspace*{\stretch{1000}}
\begin{center}
  \includegraphics[height=10em,keepaspectratio=true]{graphics/DevanagariAum.eps} \\
  \vspace*{\stretch{618}}
  \huge{\textbf{\DBKtitle}}\\ %
  \ifthenelse{\equal{\DBKsubtitle}{}}{}{
   \underline{\ \ \ \ \ \ \ \ \ \ \ }\\ %
  \ \\ %
  \large{\textbf{\DBKsubtitle}}\\ %
  }
\end{center}
\vspace*{\stretch{1000}}
}
\def\maketitle{
  \DBKcover
  \newpage
  {\itshape
  \if\DBKcopyright\@empty\else
    \DBKcopyright \\
  \fi
  \cleardoublepage
  \if\DBKlegalblock\@empty\else
    \DBKlegalblock
  \fi
  }
  %\DBKdomitete
}
\newenvironment{DBKlegalnotice}{
  \vspace*{\stretch{1}}
  \if@twocolumn
    \noindent\small\textit{\DBKlegaltitle}
    \/\bfseries---$\!$
  \else
    \noindent\begin{center}\small\bfseries\DBKlegaltitle
    \end{center}\footnotesize
  \fi
}{
  \vspace{0.6em}\par\if@twocolumn\else\fi
}

%
% These floats must be defined to map <example> and <equation>
%
\usepackage{float}

\floatstyle{ruled}
\newfloat{example}{ht}{loe}[section]
\floatname{example}{Example}

\floatstyle{plain}
\newfloat{dbequation}{ht}{loe}[section]
\floatname{dbequation}{{\scshape Equation }}

%
% Nothing special for <note>, <caution>, <warning>
%
\newenvironment{DBKadmonition}[2] {
}{
}

%
% <sidebar> environment
%
\newenvironment{sidebar}[1][\textwidth]{
  \hspace{0mm}\newline%
  \noindent\begin{Sbox}\begin{minipage}{#1}
}{
  \end{minipage}\end{Sbox}\shadowbox{\TheSbox}%
}

% CUSTOMIZED

\usepackage[a5paper,top=2.5cm,bottom=1.5cm,left=1.5cm,right=2cm,dvips,pdftex,twoside]{geometry}
% \usepackage{fullpage}
\usepackage[compact]{titlesec}

\titlespacing{\chapter}{0pt}{*2}{*1}

%\usepackage{sectsty}
%\partfont{\huge\bfseries}
%\chapterfont{\Large\bfseries}

\usepackage{bookman}

\setlength{\parskip}{1ex}
\setlength{\parindent}{0in}

\usepackage{fancyhdr}
\setlength{\headheight}{15pt}
\pagestyle{fancyplain}
\renewcommand{\chaptermark}[1]{\markboth{\thechapter~#1}{}}
\fancyhf{}
\fancyhead[LE,RO]{\thepage}
% \fancyhead[RE]{\small\textit{\nouppercase{\leftmark}}}
\fancyhead[LO]{\small\textit{\nouppercase{\leftmark}}}
\fancypagestyle{plain}{%
  \fancyhead{} % get rid of headers
  \renewcommand{\headrulewidth}{0pt} % and the line
}
\PrerenderUnicode{ěščřžýáíéĚŠČŘŽÝÁÍÉďťňĎŤŇůúÚóÓ} %predkresleni diakritiky, mozno pridat/ubrat znaky podle potreby

%% \lhead{\fancyplain{}{\thepage}}
%% \chead{}
%% \rhead[\fancyplain{}{\textit{\rightmark}}]{\fancyplain{}{\textit{\leftmark}}}
%% \lfoot{}
%% \cfoot{}
%% \rfoot{}

\sloppy

\endinput
